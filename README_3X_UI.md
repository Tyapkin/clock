# Интеграция с 3x-ui

Так как у вас уже стоит **3x-ui**, мы будем использовать его встроенный Xray. Наше приложение (Clock App) будет работать просто как "заглушка" (Fallback) для обычного браузерного трафика.

## 1. Запуск сайта (Clock App)

Мы запустим сайт в Docker, и он будет доступен **только внутри сервера** по адресу `127.0.0.1:5678`.

1.  Скопируйте файлы проекта на сервер (если еще не там).
2.  Запустите контейнер:
    ```bash
    docker-compose up -d --build
    ```

## 2. Настройка в панели 3x-ui

1.  Зайдите в вашу панель **3x-ui**.
2.  Перейдите в раздел **Inbounds** (Подключения).
3.  Создайте новое подключение (или отредактируйте существующее на 443 порту):
    *   **Port**: `443`
    *   **Protocol**: `vless`
    *   **Transmission**: `TCP`
    *   **Security**: `REALITY` или `TLS` (в зависимости от того, что вы используете).
        *   *Если TLS*: Укажите пути к сертификатам.
        *   *Если REALITY*: Убедитесь, что `Dest` указывает на `127.0.0.1:5678` (см. ниже) или на внешний сайт, но для маскировки своим сайтом лучше использовать TLS.
    
    **Самое важное — Fallback (Резервный):**
    
    Найдите настройки **Fallbacks** (или "Sniffing" -> "Route Only" в некоторых версиях, но обычно это отдельное поле в настройках TLS/XTLS).
    
    Добавьте правило:
    *   **Dest (Куда)**: `5678` (или `127.0.0.1:5678`)
    *   **Alpn**: `""` (пусто) или `http/1.1`
    *   **Path**: `/` (опционально)

    *Суть настройки:* Если Xray видит, что входящий запрос — это НЕ VLESS (например, кто-то просто открыл сайт в браузере), он перекинет этот запрос на порт `5678`, где висит наше приложение с часами.

4.  **Сохраните** и **Перезагрузите** (Restart Xray).

## Проверка
*   Откройте ваш домен `https://your-domain.com` в браузере. Вы должны увидеть **Часы**.
*   Подключитесь через V2RayNG/Nekoray. VPN должен работать.
